# exhibitions
Scripts for exhibition feedback analysis

## Карта скриптов: 
> *В необходимых файлах для доступного использования проставлены комментарии.*
## Карта скриптов:  
---  
### 1. dp.py  
    Файл для подключения базы данных.  
> Как пользоваться?
* Изменить параметры для подключения к таблице в class DB
* Изменить sql скрипт на желаемый
* В последующих python файлах прописать `from db import data`
* Изменить параметры для подключения к таблице в class DB.
* Изменить sql скрипт на желаемый.
* В последующих python файлах прописать `from db import data`.
---  
### 2. semantic_files/
    папка со всем необходимым для удаления бессмысленных и ненужных комментариев.  
1. delete comments.py  
  Основной скрипт.  
2. vocab.txt  
  Кастомизированный словарь.  
3. fff.py  
  Скрипт, в котором присутствует проверка и на грамматические ошибки. Возможно когда-нибудь пригодится.
    Папка со всем необходимым для удаления бессмысленных и ненужных комментариев.  
**1. delete comments.py**  
`-` Основной скрипт.   
**2. vocab.txt**  
`-` Кастомизированный словарь.  
**3. fff.py**  
`-` Скрипт, в котором присутствует проверка и на грамматические ошибки. Возможно, когда-нибудь пригодится.
> Как пользоваться?  


* Изменить параметры для подключения к таблице **delete comments.py**  в class DB.
* Изменить ОБА!! sql в **delete comments.py** скрипта на желаемые. Необходимо заметить, что в данном файле также учитываются и ФИО гидов,
автоматически добавляясь в словарь. При желании отредактировать также и этот кусок кода.  
* Дополнить файл **vocab.txt** нужными словами. Необходимо учесть все формы слова, то есть если это существительное,
то прописать все падежи, если глагол все времена (рода можно не прописывать, скрипт допускает отличие на 1-2 буквы, но
все-таки желательно прописать, дабы избежать удаление слова при ошибке пользователя).
---  
### 3. sentiment_files/  
    Папка со всем необходимым для семантического анализа текста.  
**1. sentiment.py**  
`-` Основной скрипт.  
**2. model train.py**  
`-` Скрипт для тренировки модели.  
> Как пользоваться?
+ В файле **sentiment.py**  
    1. Прописать путь до модели `model = BertForSequenceClassification.from_pretrained('./fine_tuned_model')`.  
    2. Изменить параметры для подключения к таблице в class DB.
    3. Изменить ВСЕ!! sql скрипты на желаемые.
+ В файле **model train.py**
    1. Изменить название тренировочного файла `df = pd.read_csv('test.csv')`.
    2. По желанию изменить название папки, куда сохранится модель `save_directory = './fine_tuned_model'`.
+ Создание тренировочного файла **test.csv**  
    1. В DBeaver создать таблицу формата  

        | id | text          | label    |
        |----|:-------------:|---------:|
        | 1  | В восторге!   | POSITIVE |
       
       Обратите внимание, что название столбцов менять не надо!!  
    2. Затем экспортировать данные в формате CSV. И тестовый файл, и папка с моделью должны храниться в одной и той же папке, что и скрипт.
       
> *гитхаб не позволил мне выгрузить файлы с готовыми моделями по причине большого веса, но в беседе тг они есть*
       
